<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <style>
    .title { font: bold 24px sans-serif; fill: #333; }
    .subtitle { font: 18px sans-serif; fill: #666; }
    .camera { fill: #ffebee; stroke: #c62828; stroke-width: 2; }
    .feature { fill: #e8eaf6; stroke: #303f9f; stroke-width: 2; }
    .map { fill: #e0f2f1; stroke: #00695c; stroke-width: 2; }
    .pose { fill: #fff8e1; stroke: #f57f17; stroke-width: 2; }
    .process { fill: #f3e5f5; stroke: #6a1b9a; stroke-width: 2; rx: 10; ry: 10; }
    .arrow { stroke: #555; stroke-width: 2; marker-end: url(#arrowhead); }
    .label { font: 14px sans-serif; fill: #333; text-anchor: middle; }
    .small-label { font: 12px sans-serif; fill: #555; text-anchor: middle; }
  </style>
  
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
      refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555" />
    </marker>
  </defs>
  
  <rect width="100%" height="100%" fill="#ffffff"/>
  
  <text x="400" y="40" class="title">VSLAM Processing Flow</text>
  <text x="400" y="70" class="subtitle">Visual Simultaneous Localization and Mapping</text>
  
  <!-- Camera Input -->
  <circle cx="100" cy="120" r="40" class="camera"/>
  <text x="100" y="125" class="label">Camera</text>
  <text x="100" y="145" class="label">Frame</text>
  
  <!-- Feature Detection -->
  <rect x="200" y="100" width="140" height="40" class="feature"/>
  <text x="270" y="125" class="label">Feature Detection</text>
  <text x="270" y="145" class="small-label">(SIFT/SURF/ORB)</text>
  
  <!-- Feature Matching -->
  <rect x="400" y="100" width="140" height="40" class="feature"/>
  <text x="470" y="125" class="label">Feature Matching</text>
  <text x="470" y="145" class="small-label">(Between Frames)</text>
  
  <!-- Pose Estimation -->
  <rect x="600" y="100" width="140" height="40" class="pose"/>
  <text x="670" y="125" class="label">Pose Estimation</text>
  
  <!-- Map Initialization -->
  <rect x="100" y="220" width="140" height="40" class="map"/>
  <text x="170" y="245" class="label">Map Initialization</text>
  
  <!-- Map Update -->
  <rect x="300" y="220" width="140" height="40" class="map"/>
  <text x="370" y="245" class="label">Map Update</text>
  
  <!-- Loop Closure -->
  <rect x="500" y="220" width="140" height="40" class="map"/>
  <text x="570" y="245" class="label">Loop Closure</text>
  
  <!-- Optimization -->
  <rect x="250" y="320" width="160" height="50" class="process"/>
  <text x="330" y="345" class="label">Bundle Adjustment</text>
  <text x="330" y="365" class="small-label">& Graph Optimization</text>
  
  <!-- Final Map -->
  <rect x="300" y="420" width="200" height="60" class="map"/>
  <text x="400" y="450" class="label">Final Map</text>
  <text x="400" y="470" class="small-label">(3D Point Cloud + Poses)</text>
  
  <!-- Robot Trajectory -->
  <path d="M100,520 C200,500 300,480 400,480 C500,480 600,500 700,520" 
        stroke="#78909c" stroke-width="3" fill="none" stroke-dasharray="5,5"/>
  <text x="400" y="560" class="label">Robot Trajectory</text>
  
  <!-- Robot positions -->
  <circle cx="100" cy="520" r="10" fill="#5c6bc0"/>
  <circle cx="250" cy="505" r="10" fill="#5c6bc0"/>
  <circle cx="400" cy="480" r="10" fill="#5c6bc0"/>
  <circle cx="550" cy="495" r="10" fill="#5c6bc0"/>
  <circle cx="700" cy="520" r="10" fill="#5c6bc0"/>
  
  <!-- Arrows -->
  <line x1="140" y1="120" x2="200" y2="120" class="arrow"/>
  <line x1="340" y1="120" x2="400" y2="120" class="arrow"/>
  <line x1="540" y1="120" x2="600" y2="120" class="arrow"/>
  <line x1="100" y1="160" x2="100" y2="220" class="arrow"/>
  <line x1="170" y1="160" x2="170" y2="220" class="arrow"/>
  <line x1="270" y1="140" x2="270" y2="220" class="arrow"/>
  <line x1="370" y1="140" x2="370" y2="220" class="arrow"/>
  <line x1="470" y1="140" x2="470" y2="220" class="arrow"/>
  <line x1="570" y1="140" x2="570" y2="220" class="arrow"/>
  <line x1="170" y1="260" x2="250" y2="320" class="arrow"/>
  <line x1="370" y1="260" x2="370" y2="320" class="arrow"/>
  <line x1="570" y1="260" x2="410" y2="320" class="arrow"/>
  <line x1="330" y1="370" x2="400" y2="420" class="arrow"/>
  
  <!-- Legend -->
  <rect x="50" y="530" width="700" height="60" fill="none" stroke="#ccc" stroke-width="1"/>
  <text x="60" y="550" font-size="14" fill="#333">Legend:</text>
  <circle cx="140" cy="545" r="6" class="camera"/>
  <text x="160" y="550" font-size="12" fill="#333">Camera Input</text>
  <rect x="240" y="538" width="12" height="12" class="feature"/>
  <text x="265" y="550" font-size="12" fill="#333">Feature Processing</text>
  <rect x="370" y="538" width="12" height="12" class="map"/>
  <text x="395" y="550" font-size="12" fill="#333">Mapping</text>
  <circle cx="480" cy="545" r="6" fill="#5c6bc0"/>
  <text x="500" y="550" font-size="12" fill="#333">Robot Pose</text>
</svg>