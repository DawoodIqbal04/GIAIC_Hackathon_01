<svg width="600" height="400" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="100%" height="100%" fill="#f5f5f5"/>

  <!-- Title -->
  <text x="300" y="30" font-family="Arial" font-size="18" text-anchor="middle" fill="#333">ROS 2 Architecture Diagram</text>

  <!-- Nodes -->
  <circle cx="150" cy="150" r="40" fill="#438aa7" stroke="#2c5f77" stroke-width="2"/>
  <text x="150" y="155" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Node A</text>

  <circle cx="450" cy="150" r="40" fill="#438aa7" stroke="#2c5f77" stroke-width="2"/>
  <text x="450" y="155" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Node B</text>

  <circle cx="300" cy="300" r="40" fill="#a75043" stroke="#77382c" stroke-width="2"/>
  <text x="300" y="305" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Node C</text>

  <!-- DDS/RMW Layer -->
  <rect x="100" y="80" width="400" height="30" fill="#e0e0e0" stroke="#aaa" stroke-width="1"/>
  <text x="300" y="100" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">DDS/RMW Layer</text>

  <!-- Communication arrows -->
  <line x1="190" y1="150" x2="410" y2="150" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="300" y1="260" x2="190" y2="190" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="300" y1="260" x2="410" y2="190" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Arrowhead definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- Legend -->
  <rect x="20" y="340" width="560" height="40" fill="#fff" stroke="#ccc"/>
  <text x="30" y="360" font-family="Arial" font-size="12" fill="#333">Nodes communicate via Topics (publish/subscribe) and Services (request/reply)</text>
</svg>